{{ 'flickity.css' | asset_url | stylesheet_tag }}
{{ 'mc-custom-slider.css' | asset_url | stylesheet_tag }}

<section class="testimonial-section">
  <div class="bg-overlay"></div>
  <div class="testimonial-carousel page-width slider-container">
    <div class="testimonial-carousel-fixed-content">
      <h2>{{ section.settings.fixedHeading }}</h2>
      <p>
        {{ section.settings.fixedDescription }}
      </p>
      {% if section.settings.FixedButtonlink %}
        <div>
          <a
            class="testimonial-button has-icon"
            href="{{ section.settings.FixedButtonlink  }}"
            data-color-override="false"
            data-hover-color-override="false"
            data-hover-text-color-override="#fff"
            style="visibility: visible;">
            <span>{{ section.settings.fixedButtonText }}</span>
            <i class="icon-button-arrow"></i>
          </a>
        </div>
      {% endif %}
    </div>
    <div class="slider-section">
      <div class="main-carousel mc__custom--slider" data-flickity="">
        {%- for block in section.blocks -%}
          <div class="carousel-cell">
            <div class="carousel-cover">
              <div class="carousel-content">
                <blockquote
                  class="single_testimonial"
                  data-color=""
                  data-style="basic">
                  <div class="inner">
                    <p>
                      {{ block.settings.blockquote }}
                    </p>

                    <div style="background-image:url('{{ block.settings.blockquoteImage.src | img_url: 'large' }}')" class="image-icon image-icon-{{ block.id }}"></div>
                    <span class="wrap blockquote-author">
                      <span>{{ block.settings.authorName }}</span>
                      <span class="title">{{ block.settings.authorDesignation }}</span>
                    </span>
                  </div>
                </div>
              </blockquote>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
{{ 'flickity.pkgd.js' | asset_url | script_tag }}
{{ 'flickity-slide.js' | asset_url | script_tag }}


<style>
  .animate__animated.animate__fadeIn {
    --animate-duration: 3s;
  }
</style>

{% schema %}
  {
    "name": "Testimonial Slideshow",
    "settings": [
      {
        "type": "text",
        "id": "fixedHeading",
        "label": "Heading Text",
        "default": "Header Text Here",
        "placeholder": "Header Text",
        "info": "Header Text"
      }, {
        "type": "textarea",
        "id": "fixedDescription",
        "label": "Heading Text",
        "default": "Header Text Here",
        "info": "Header Text"
      }, {
        "type": "text",
        "id": "fixedButtonText",
        "label": "Button Text",
        "default": "View all Testimonials",
        "placeholder": "Text Button",
        "info": "Text Button"
      }, {
        "type": "url",
        "id": "FixedButtonlink",
        "label": "Link"
      }
    ],
    "blocks": [
      {
        "type": "column",
        "name": "Testimonial",
        "settings": [
          {
            "type": "header",
            "content": "Testimonial"
          },
          {
            "type": "textarea",
            "id": "blockquote",
            "label": "Blockquote",
            "default": "Blockquote Here",
            "placeholder": "Blockquote Text",
            "info": "Blockquote Text"
          },
          {
            "type": "image_picker",
            "id": "blockquoteImage",
            "label": "Author Image"
          },
          {
            "type": "text",
            "id": "authorName",
            "label": "Author Name",
            "default": "Author Name Here",
            "placeholder": "Author",
            "info": "Author Name"
          }, {
            "type": "text",
            "id": "authorDesignation",
            "label": "Author Designation",
            "default": "Author Designation",
            "placeholder": "Author Designation",
            "info": "Author Designation"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Testimonial Slider"
      }
    ]
  }
{% endschema %}